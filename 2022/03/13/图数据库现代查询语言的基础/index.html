<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>图数据库现代查询语言的基础 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="《Foundations of Modern Query Languages for Graph Databases》  Overview研究了现代查询语言的基本特性。首先讨论了两种流行的图数据模型：  edge-labeled graph: 节点通过有向，带标签的边连接。  property graph：节点和边可以进一步带有属性。   然后讨论了两个最基本的图查询功能：graph patte">
<meta property="og:type" content="article">
<meta property="og:title" content="图数据库现代查询语言的基础">
<meta property="og:url" content="http://example.com/2022/03/13/%E5%9B%BE%E6%95%B0%E6%8D%AE%E5%BA%93%E7%8E%B0%E4%BB%A3%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80%E7%9A%84%E5%9F%BA%E7%A1%80/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="《Foundations of Modern Query Languages for Graph Databases》  Overview研究了现代查询语言的基本特性。首先讨论了两种流行的图数据模型：  edge-labeled graph: 节点通过有向，带标签的边连接。  property graph：节点和边可以进一步带有属性。   然后讨论了两个最基本的图查询功能：graph patte">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/image-20220313080614489.png">
<meta property="og:image" content="http://example.com/image-20220313081214841.png">
<meta property="og:image" content="http://example.com/image-20220313082029753.png">
<meta property="og:image" content="http://example.com/image-20220313084434837.png">
<meta property="og:image" content="http://example.com/image-20220314083016280-16472221901002.png">
<meta property="og:image" content="http://example.com/image-20220314092744224.png">
<meta property="article:published_time" content="2022-03-12T23:28:40.643Z">
<meta property="article:modified_time" content="2022-03-14T01:44:56.852Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/image-20220313080614489.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.0.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-图数据库现代查询语言的基础" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/03/13/%E5%9B%BE%E6%95%B0%E6%8D%AE%E5%BA%93%E7%8E%B0%E4%BB%A3%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80%E7%9A%84%E5%9F%BA%E7%A1%80/" class="article-date">
  <time class="dt-published" datetime="2022-03-12T23:28:40.643Z" itemprop="datePublished">2022-03-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      图数据库现代查询语言的基础
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <blockquote>
<p>《Foundations of Modern Query Languages for Graph Databases》</p>
</blockquote>
<h1 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h1><p>研究了现代查询语言的基本特性。首先讨论了两种流行的图数据模型：</p>
<ol>
<li><p><code>edge-labeled graph</code>: 节点通过有向，带标签的边连接。</p>
</li>
<li><p><code>property graph</code>：节点和边可以进一步带有属性。</p>
</li>
</ol>
<p>然后讨论了两个最基本的图查询功能：<code>graph pattern</code>和<code>navigational expresssions</code>。</p>
<p>还讨论了几种语义，在何种语义下可以使用前面的特征进行查询，特征和语义的选择对复杂性有什么影响。并以用于查询图的三种现代语言提供此类查询的示例：<code>SPARQL</code>，<code>CyPher</code>和<code>Gremlin</code>。</p>
<h1 id="图数据模型"><a href="#图数据模型" class="headerlink" title="图数据模型"></a>图数据模型</h1><p>图可以用来编码数据，其中节点表示感兴趣域中的对象，边表示这些这些对象之间的关系。例如，如果使用图来编码关于电影的数据，则节点可以是演员和电影，并且一条从a到b的（有向）边可能表示a是b中的演员。注意到，边的方向此时很重要，我们想说的是一个演员在电影中扮演主角，而不是相反。一个电影数据库可以通过图建模为如下所示：</p>
<p><img src="/image-20220313080614489.png" alt="image-20220313080614489"></p>
<p>然而，难以用这种简单的形式表达出不同类型的关系。比如，假设我们希望表示 <em>Clint Eastwood</em> 也是 <em>Unforgiven</em> 中的导演。我们可以考虑在这些节点之间添加另外一条边，从而得到以下列方式连接的节点：</p>
<p><img src="/image-20220313081214841.png" alt="image-20220313081214841"></p>
<p>但是，哪条边代表了 <em>Clint Eastwood</em> 也是 <em>Unforgiven</em> 中的导演呢？ 更一般的说，如果节点之间有许多不同类型的关系，我们如何区分他们呢？</p>
<h2 id="Edge-labeled-graphs"><a href="#Edge-labeled-graphs" class="headerlink" title="Edge-labeled graphs"></a>Edge-labeled graphs</h2><p>一个简单且广泛解决的方法是使用<code>edge-labeled graphs</code>，其中我们额外地给边分配标签。以表明在被描述的领域中不同类型的关系。</p>
<p>我们可以在下图中看到一个例子，<em>Clint Eastwood</em> 与 <em>Unforgiven</em> 有两种关系，一种是标有 <em>directs</em> 的边，另一种是标有 <em>acts_in</em> 的边。</p>
<p><img src="/image-20220313082029753.png" alt="image-20220313082029753"> </p>
<p>在下文中，我们正式定义<code>edge-labeled graph</code>。</p>
<blockquote>
<p>Definition 2.1 (Edge-labeled graph). An edge-labeled graph $G$ is a pair $(V,E)$, where</p>
<ol>
<li>$V$ is a finite set of <em>vertices</em> (or <em>nodes</em>).</li>
<li>$E$ is a finite set of <em>edges</em>; formally, $E \subseteq V \times Lab \times V$ where $Lab$ is a set of <em>labels</em>.</li>
</ol>
</blockquote>
<p>标签 <em>directs</em> 和  <em>acts_in</em>  取自集合 $Lab$。</p>
<p><code>edge-labeled graph</code>在实践中被广泛采用，比如，他们用于编码Web上机器可读内容的 <code>Resource Description Framework (RDF)</code>标准的基础。RDF图只是一组类似于图数据库中边的一组三元组，但包含一些进一步的细节：在RDF图中， 集合$V$ 可以被分割成不相交的IRIs， iterals和blank 节点集合，其中$Lab$是IRIs的子集。</p>
<p>注意到，<code>edge-labeled graph</code>定义对于图的拓扑没有任何限制，可以是有向图或无向图。</p>
<p>尽管<code>edge-labeled graph</code>结构简单，但他可以编码复杂的信息。比如，当在图数据库描述某些电影时，我们可能希望表示一个演员在同一个电影中扮演多个不同角色。 起初，这似乎与我们对图数据库$G&#x3D;(V,E)$的定义不兼容因为$E$表示一组边的<em>set</em>：我们不能在同一对节点之间有多个带有相同标签的边。 然而，我们可以将这些信息建模为<code>edge-labeled graph</code>，如下图所示：</p>
<p><img src="/image-20220313084434837.png" alt="image-20220313084434837"></p>
<p>我们可以看出，通过使用节点（而不是边）来表示电影中演员饰演的每个角色，我们不仅可以编码演员在电影中饰演多个角色的情况，也可以编码有关这个角色的其他信息，比如：在屏幕上这个角色出现的时间。</p>
<h2 id="Property-graph"><a href="#Property-graph" class="headerlink" title="Property graph"></a>Property graph</h2><p>在<code>edge-labeled graph</code>中，我们使用标签来指示边的类型，其中多个边可能具有相同的类型。 相似地，我们可以考虑为节点添加标签。 比如，在图1中，我们可以将节点 <em>Clint Eastwood</em> 和 <em>Anna Levine</em> 标记为 <em>Person</em>， 节点 <em>Unforgiven</em> 标记为 <em>Movie</em>。 我们甚至可以在一个节点上添加多个标签， 比如为 <em>Clint Eastwood</em>  添加标签 <em>Director</em> 和 <em>Actor</em>。 同时，这种信息也可以通过 <code>edge-labeled graph</code> 表示，比如，在RDF中，为 <em>Movie</em> 创建一个新节点， 并创建一条标签为 <em>type</em> 的边连接到 <em>Unforgiven</em>。 可以看出，将节点标签作为模型的一部分对于用户查询和理解来说有一个更为直接的抽象。</p>
<p>同样地，向<code>edge-labeled graph</code> 添加关于边的信息通常时很麻烦的。例如，如果希望添加信息的来源，比如，<em>act_in</em> 关系来自于网站IMDb，对于此，我们不能简单地向图中添加边。相反地，我们需要创建一个新的关系：<em>act_in</em> 和他们的来源之间的关系。 向<code>edge-labeled graph</code> 中添加新类型的信息可能需要对图形结构进行重大修改，因此需要较大成本。</p>
<p>因此，对于可能会将各种新类型的元信息定期添加到边或节点的场景，最通用和广泛采用的替代方法时使用<code>edge-labeled graph</code>的拓展，被称之为<code>property graph</code>，此模型目前被一些主流的图数据库采用，比如Neo4j，并且最近由学术界和工业界成员组成的 <em>Linked Data Benchmark Council (LDBC)</em>  标准化。</p>
<p>在<code>property graph</code>中，边和节点都可以是带标签的。每条边和每个节点都与另外一个唯一的标识符相关联，该唯一标识符可以作为 <em>hook</em> 分配其他元新信息——以一组 <code>property-value </code> 对的形式（称为 <code>attribute</code> ）的形式——直接关联到该边或节点，在实践中，可以将属性和标签编码为额外的边，在实践中，这样的特性允许直接对图进行注释，而无需修改其整体结构。</p>
<p>比如，在下图中，我们展示了电影数据库中的一个图，其中包含节点和边上的标签和属性。在此图中，节点的属性显示在其下方的圆角矩形中。因此，比如，与节点 $n_1$ 相关联的属性是 <em>name</em>  和 <em>gender</em> ，他们相对应的值是 <em>Clint Eastwood</em> 和 <em>male</em> 。另一方面，边$e_2$不含有任何属性。在此模型中，我们可以直接编码在同一对节点之间标签相同多条边（有多个不同的标识符），也可以使用额外的属性来拓展图，而不用将复杂的属性重构为节点。</p>
<p><img src="/image-20220314083016280-16472221901002.png" alt="image-20220314083016280"></p>
<p>下面，我们正式定义<code>property graph</code>。</p>
<blockquote>
<p>Definition 2.3 (Property graph). A property graph $G$ is a tuple $(V,E,\rho,\lambda,\sigma)$, where:</p>
<ol>
<li>$V$ is a finite set of <em>vertices</em> (or <em>nodes</em>).</li>
<li>$E$ is finite set of <em>edges</em> such that $V$ and $E$ have no elements in common.</li>
<li>$\rho: E \rightarrow (V \times V)$  is a total function. Intuitively, $\rho(e)&#x3D;(v_1,v_2)$ indicates that $e$ is a directed edge from node $v_1$ to node $v_2$ in $G$.</li>
<li>$\lambda: (V \cup E) \rightarrow Lab$ is a total function with $Lab$ a set od labels. Intuitively, if $v \in V$ (resp., $e \in E$) and $\rho (v)&#x3D;l$ (resp., $e\in E$), $p \in Prop$ and $\sigma(v,p)&#x3D;s$ (resp., $\sigma(e,p)&#x3D;s$), then $s$ is the value of property $p$ for node $v$ (resp., edge $e$) in the property graph $G$.</li>
</ol>
</blockquote>
<p><img src="/image-20220314092744224.png" alt="image-20220314092744224"></p>
<p>在我们对于<code>property graph</code>，每个节点和边都与一个标签相关联，并且每个 <code>attribute property</code> 至多有一个 value。在一些应用中，在这些位置可能有多个值可用。因此，我们可以考虑一个 <code>property graph</code> 表，称之为 <code>mult-valued property graph</code></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/03/13/%E5%9B%BE%E6%95%B0%E6%8D%AE%E5%BA%93%E7%8E%B0%E4%BB%A3%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80%E7%9A%84%E5%9F%BA%E7%A1%80/" data-id="cl0pxvp700000fov5gnyx029a" data-title="图数据库现代查询语言的基础" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2022/03/11/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Hello World</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/03/13/%E5%9B%BE%E6%95%B0%E6%8D%AE%E5%BA%93%E7%8E%B0%E4%BB%A3%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80%E7%9A%84%E5%9F%BA%E7%A1%80/">图数据库现代查询语言的基础</a>
          </li>
        
          <li>
            <a href="/2022/03/11/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>